<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Wire</title>
    </head>
    <body>
        <script src="./wire.js"></script>

        <script>
            counter = new Base("counter", 2);

            double = new Computed("double", [counter], (c) => c * 2);

            list = new Base("list", [
                { number: 1, text: "Hello" },
                { number: 2, text: "World" },
            ]);

            props = new Base("props", { a: 1, b: 2, c: 3 });

            function onClick() {
                counter.set(counter.get() + 1);
                const tmpProps = props.get();
                tmpProps.a += 1;
                tmpProps.b *= 2;
                tmpProps.c -= 1;
                props.set(tmpProps);
                list.set([...list.get(), { number: counter.get(), text: "Click" }]);
            }
        </script>

        <div>
            <button onclick="onClick()">Counter: <wire to="counter" /></button>

            <p>Double: <wire to="double" /></p>

            <wire with="props">
                <p>Props: {{props.get().a}}, {{props.get().b}}, {{props.get().c}}</p>
            </wire>

            <wire over="list" with="item">
                <p>{{item.number}}: {{item.text}}</p>
            </wire>
        </div>
    </body>
</html>
